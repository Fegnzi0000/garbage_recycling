### 登录获取个人用户Token
POST http://localhost:8080/api/auth/wechat/login
Content-Type: application/x-www-form-urlencoded

code=test_code_person&nickname=测试个人用户&avatarUrl=http://example.com/avatar.jpg&identityType=1

> {%
    client.test("个人登录成功", function() {
        client.assert(response.status === 200, "响应状态应为200");
        client.log("Personal Token: " + response.body.data.token);
        client.global.set("personal_token", response.body.data.token);
    });
%}

### 登录获取高校用户Token
POST http://localhost:8080/api/auth/wechat/login
Content-Type: application/x-www-form-urlencoded

code=test_code_campus&nickname=测试高校用户&avatarUrl=http://example.com/avatar2.jpg&identityType=2

> {%
    client.test("高校登录成功", function() {
        client.assert(response.status === 200, "响应状态应为200");
        client.log("Campus Token: " + response.body.data.token);
        client.global.set("campus_token", response.body.data.token);
    });
%}

### 创建个人回收订单
POST http://localhost:8080/api/order/personal
Content-Type: application/json
Authorization: Bearer {{personal_token}}

{
  "addressId": 1,
  "scheduledTime": "2025-08-20 14:00:00",
  "items": [
    {
      "category_id": 3,
      "category_name": "塑料瓶",
      "quantity": 6,
      "unit": "个"
    }
  ],
  "images": [
    "https://example.com/image1.jpg"
  ]
}

> {%
    client.test("创建个人订单成功", function() {
        client.assert(response.status === 200, "响应状态应为200");
        client.log("订单号: " + response.body.data.orderNo);
        client.global.set("personal_order_id", response.body.data.orderId);
    });
%}

### 获取个人订单列表
GET http://localhost:8080/api/order/list?page=1&size=10
Authorization: Bearer {{personal_token}}

> {%
    client.test("获取个人订单列表成功", function() {
        client.assert(response.status === 200, "响应状态应为200");
        client.log("订单数量: " + response.body.data.orders.length);
    });
%}

### 取消个人订单
POST http://localhost:8080/api/order/cancel/{{personal_order_id}}
Authorization: Bearer {{personal_token}}

> {%
    client.test("取消个人订单成功", function() {
        client.assert(response.status === 200, "响应状态应为200");
    });
%}

### 创建高校教材回收订单（使用高校用户 token）
POST http://localhost:8080/api/campusOrder/textbook
Content-Type: application/json
Authorization: Bearer {{campus_token}}

{
  "addressId": 1,
  "scheduledTime": "2025-09-30 10:00:00",
  "textbookType": "高等数学",
  "quantity": 5,
  "unit": "本",
  "condition": "八成新",
  "pickupLocation": "教学楼A门口",
  "schoolName": "某大学",
  "department": "数学系",
  "images": [
    "https://example.com/textbook1.jpg",
    "https://example.com/textbook2.jpg"
  ]
}

> {%
    client.test("创建高校教材订单成功", function() {
        client.assert(response.status === 200, "状态200");
        client.global.set("campus_textbook_order_no", response.body.data.orderNo);
    });
%}

### 创建高校宿舍批量回收订单（使用高校用户 token）
POST http://localhost:8080/api/campusOrder/dormitory
Content-Type: application/json
Authorization: Bearer {{campus_token}}

{
  "addressId": 1,
  "scheduledTime": "2025-010-21 11:30:00",
  "dormitoryBuilding": "1号楼",
  "roomRange": "101-110",
  "recyclingCategories": ["废纸", "塑料瓶"],
  "contactPerson": "张三",
  "contactPhone": "13812345678",
  "schoolName": "某大学",
  "department": "物理系",
  "images": [
    "https://example.com/dorm1.jpg"
  ]
}

> {%
    client.test("创建高校宿舍订单成功", function() {
        client.assert(response.status === 200, "状态200");
        client.global.set("campus_dorm_order_no", response.body.data.orderNo);
    });
%}
